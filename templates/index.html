<!DOCTYPE html>
<html>

<head>
    <link href="./static/style.css" rel='stylesheet' />
    <title>RegEx Matcher</title>
</head>

<body>
    <h1>RegEx Matcher</h1>
    <form action="#" method="post">
        <div>
            <label for="regex">RegEx:</label>
            <input type="text" id="regex" name="regex" required>
        </div>
        <div>
            <label for="text">Text:</label>
            <textarea id="text" name="text" rows="5" cols="30" required></textarea>
        </div>
        <div>
            <input type="checkbox" id="global_search" name="global_search">
            <label for="global_search">全局匹配</label>
        </div>
        <input type="submit" value="Match">
    </form>
    <br><br>
    <div id="result">
        {% if match %}
        <p>Match found: {{ match }}</p>
        {% else %}
        <p>No match found.</p>
        {% endif %}
    </div>
    <script>
        const form = document.querySelector('form');
        const result = document.querySelector('#result');

        form.addEventListener('submit', event => {
            event.preventDefault();
            const regex = form.elements.regex.value;
            const text = form.elements.text.value;
            const match = text.match(regex);
            if (match) {
                result.innerHTML = `<p>Match found: ${match[0]}</p>`;
            } else {
                result.innerHTML = '<p>No match found.</p>';
            }
        });
    </script>
</body>

</html>